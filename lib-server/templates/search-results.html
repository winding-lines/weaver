{% extends "base.html" %}
{% block title %}{{ term }} - Weaver Search{% endblock title %}
{% block head %}
  <style>
    .summary {
      margin-top: 3px;
    }

    .result h4 {
      margin-bottom: 3px;
    }

    .link {
      display: block;
      width: 500px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .result a:link, .result a:visited {
      text-decoration: none;
    }
  </style>
{%  endblock head %}
{% block content %}

  <div class="search-block">
    <form>
      <input type="text" name="term" value="{{ term }}"/>
      <input type="submit" name="Search"/>
    </form>
    <div class="summary">
      Found {{ results.matches | length }} matches for {{ term }}, total documents {{ results.total }}.
    </div>
    {% for i in results.matches %}
      <div class="result">
        <h4><a href={{ i.url }}>{{ i.title }}</a></h4>
        <div class="link"><a href={{ i.url }}>{{ i.url }}</a></div>
        <div>{{i.topics}}</div>
      </div>
    {% endfor %}

  </div>
{% endblock content %}
